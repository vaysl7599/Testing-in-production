---
- summary: |
    Проверка создания игры с другим пользователем
  requirement: |
    Пользователь должен иметь возможность создавать игру самостоятельно
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    - Lavel = *
    - Game Type = With other users
    - Time control = 20 min
    - Choose task by name or tags = age_to_days
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать "Level"
    - Выбрать "Game Type"
    - Установить "Time control"
    - Выбрать игру в выпадающем списке "Choose task by name or tags"
    - Нажать кнопку "Create Battle"
  expected-result: | 
    Отображена созданная игра с другим пользователем
    
- summary: |
    Проверка создания игры с другом
  requirement: |
    Пользователь должен иметь возможность создавать игру самостоятельно
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    - Lavel = *
    - Game Type = With a friend
    - Time control = 20 min
    - Choose opponent  = MasyaSasya
    - Choose task by name or tags = age_to_days
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать "Level"
    - Выбрать "Game Type"
    - Установить "Time control"
    - Выбрать сопперника в выпадающем списке "Choose opponent"
    - Выбрать игру в выпадающем списке "Choose task by name or tags"
    - Нажать кнопку "Create Invite"
  expected-result: | 
    Выбранному сопернику отправлено приглашение в игру
    
- summary: |
    Проверка создания игры с ботом
  requirement: |
    Пользователь должен иметь возможность создавать игру самостоятельно
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    - Lavel = *
    - Game Type = With a bot
    - Time control = 20 min
    - Choose task by name or tags = age_to_days
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать "Level"
    - Выбрать "Game Type"
    - Установить "Time control"
    - Выбрать игру в выпадающем списке "Choose task by name or tags"
    - Нажать кнопку "Create Battle"
  expected-result: | 
    Отображена созданная игра с ботом
    
- summary: |
    Проверка возможности вступить в существующую игру
  requirement: |
    Пользователь должен иметь возможность вступать в открытые игры
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - Выбрать подходящую игру во вкладке "LOBBY"
    - Нажать кнопку "Fight"
  expected-result: | 
    Отображена страница с открытой выбранной игрой
    
- summary: |
    Проверка отображения кода соперника
  requirement: |
    Пользователь должен иметь возможность видеть написание кода соперника
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - Выбрать подходящую игру во вкладке "LOBBY"
    - Нажать кнопку "Fight"
  expected-result: | 
    Отображена страница с открытой выбранной игрой.
    В нижней правой части страницы отображено написание кода соперника
    
- summary: |
    Проверка возможности сдаться сопернику в игре
  requirement: |
    Пользователь должен иметь возможность сдаться сопернику в игре
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать на значок с красным флажком над редактором кода "Give up"
    - Во всплывающем окне нажать кнопку "Give up"
  expected-result: | 
    Отображено окно с уведомлением о проигрыше
    
- summary: |
    Проверка возможности сбросить редактор кода в игре
  requirement: |
    Пользователь должен иметь возможность сбросить редактор кода в игре
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать на значок с обратными стрелками над редактором кода "Reset editor"
  expected-result: |
    Написанный ранее код сбросится до первоначального состояния
    
- summary: |
    Проверка возможности видеть результаты запуска тестов
  requirement: |
    Пользователь должен иметь возможность видеть результаты запуска тестов
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать на значок белой стрелки в зеленом кружке над редактором кода "Check solution"
  expected-result: | 
    Отображено сообщение о результате проверки
    
- summary: |
    Проверка возможности менять язык программирования во время решения задания
  requirement: |
    Пользователь должен иметь возможность менять язык программирования во время решения задания
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Выбрать в выпадающем списке над терминалом язык С++ 20
    - Выбрать в выпадающем списке над терминалом язык Dart 2.17.6
    - Выбрать в выпадающем списке над терминалом язык Java 18
  expected-result: | 
    При смене языка в выпадающем списке, язык кода в редакторе меняется на выбранный
    
- summary: |
    Проверка возможности менять язык описания задания на русский
  requirement: |
    Пользователь должен иметь возможность менять язык описания задания — русский или английский
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - В выпадающем списке над текстом задания нажать "RU"
  expected-result: | 
    Задание переведено с английского на русский язык
    
- summary: |
    Проверка возможности менять язык описания задания на английский
  requirement: |
    Пользователь должен иметь возможность менять язык описания задания — русский или английский
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - В выпадающем списке над текстом задания нажать "EN"
  expected-result: | 
    Задание переведено с русского на английский язык
    
- summary: |
    Проверка возможности видеть свой рейтинг
  requirement: |
    Пользователь должен иметь возможность видеть свой рейтинг
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - В столбце "Online players" найти своё имя
    - Навести курсор на своё имя
  expected-result: | 
    Отображено:
    - место в рейтинге
    - сколько игр выиграно
    - сколько игр потеряно
    - сколько игр проиграно
    
- summary: |
    Проверка возможности просматривать рейтинг других пользователей
  requirement: |
    Пользователь должен иметь возможность просматривать рейтинг других пользователей
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - Нажать на иконку со свои именем
    - В выпадающем списке нажать "Users rating"
  expected-result: | 
    Отображена страница с рейтингом всех пользователей за неделю, за месяц и за всё время
    
- summary: |
    Проверка возможности общаться с соперником и зрителями в чате
  requirement: |
    Пользователь должен иметь возможность общаться с соперником и зрителями в чате
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - В строке ввода над редактором кода соперника написать текст "you won't win!"
  expected-result: | 
    В чате над строкой ввода отображён написанный текст

- summary: |
    Проверка возможности просматривать завершенные игры в записи
  requirement: |
    Пользователь должен иметь возможность просматривать завершенные игры в записи
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - Нажать на вкладку "COMPLETED GAME"
    - Найти свою завершенную игру
    - Нажать кнопку "Show"
  expected-result: | 
    Отображен проигрыватель с записью игры
    
- summary: |
    Проверка возможности присоединиться к игре в качестве зрителя
  requirement: |
    Пользователь должен иметь возможность присоединиться к игре в качестве зрителя
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    -
  steps:
    - Во вкладке "LOBBY" выбрать игру, которая сейчас идет
    - Нажать кнопку "Show"
  expected-result: | 
    Отображена страница с игрой других пользователей

- summary: |
    Проверка возможности создавать турниры
  requirement: |
    Пользователь должен иметь возможность создавать турниры
  prerequisites: |
    Открыта главная страница Codebattle
    Пользователь авторизирован
  test-data: |
    - Name = Tournament
    - Type = individual
    - Access Type = public
    - Starts at (UTC) = 08.04.2023 20:00
    - Level = elementary
    - Players limit = 16
    - Defult lauguage = python
    - Match timeout in seconds = 107
  steps:
    - Во вкладке "TOURNAMENTS" нажать на ссылку "You may want to create one"
    - Заполнить строку ввода "Name"
    - Выбрать значение из выпадающего списка "Type"
    - Выбрать значение из выпадающего списка "Access Type"
    - Выбрать значения в выпадающем окне "Starts at (UTC)"
    - Выбрать значение из выпадающего списка "Level"
    - Выбрать значение из выпадающего списка "Players limit"
    - Выбрать значение из выпадающего списка "Defult lauguage"
    - Установить значение в "Match timeout in seconds"
    - Нажать кнопку "Create"
  expected-result: | 
    Отображена страница, содержащая текст, что турнир скоро начнется
    
- summary: |
    Проверка возможности зарегестрироваться на сайте
  requirement: |
    Пользователь должен иметь возможность зарегестрироваться на сайте
  prerequisites: |
    Открыта стартовая страница Codebattle
  test-data: |
    - Nickname = Vaysl7599
    - Email = elizaveta7599@mail.ru
    - Password = Parol777
  steps:
    - Нажать кнопку "Sing Up"
    - Заполнить строку ввода "Nickname"
    - Заполнить строку ввода "Email"
    - Заполнить строку ввода "Password"
    - Заполнить строку ввода "Password" (подтверждение пароля)
    - Нажать кнопку "Submit"
  expected-result: | 
    Пользователь зарегистрирован, отображена главная страница Codebattle
    
- summary: |
    Проверка возможности авторизоваться на сайте через почту
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites: |
    Пользователь зарегистрирован в Codebattle через почту
    Открыта стартовая страница Codebattle
  test-data: |
    - Nickname = Vaysl7599
    - Email = elizaveta7599@mail.ru
    - Password = Parol777
  steps:
    - Нажать кнопку "Sing In"
    - Заполнить строку ввода "Email"
    - Заполнить строку ввода "Password"
    - Нажать кнопку "Submit"
  expected-result: | 
    Отображена главная страница Codebattle, содержащая сообщение об успешной авторизации
    
- summary: |
    Проверка возможности авторизоваться на сайте через Github
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites: |
    Пользователь зарегистрирован на Github
    Открыта стартовая страница Codebattle
  test-data: |
    - 
  steps:
    - Нажать кнопку "Sign in with Github"
    - Ввести логин от Github
    - Ввести пароль от Github
    - Нажать кнопку "Log in"
  expected-result: | 
    Отображена главная страница Codebattle, содержащая сообщение об успешной авторизации
    
- summary: |
    Проверка возможности авторизоваться на сайте через Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites: |
    Пользователь зарегистрирован на Discord
    Открыта стартовая страница Codebattle
  test-data: |
    - 
  steps:
    - Нажать кнопку "Sign in with Discord"
    - Ввести логин от Discord
    - Ввести пароль от Discord
    - Нажать кнопку "Log in"
  expected-result: | 
    Отображена главная страница Codebattle, содержащая сообщение об успешной авторизации   
    
- summary: |
    Проверка авторизации незарегистрированного пользователя
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites: |
    Открыта стартовая страница Codebattle
  test-data: |
    - Email = hahaha@mail.ru
    - Password = hahaha777
  steps:
    - Нажать кнопку "Sign In"
    - Заполнить строку ввода "Email"
    - Заполнить строку ввода "Password"
    - Нажать кнопку "Submit"
  expected-result: | 
    Отображено сообщение о том, что такого пользователя не существует

- summary: |
    Проверка безопасности сайта
  requirement: |
    Сайт должен быть безопасным и защищать данные пользователя
  prerequisites: |
    Открыта главная страница Codebattle
  test-data: |
    https://codebattle.hexlet.io/#lobby
  steps:
    - Нажать на адресную строку  
  expected-result: |
    Текст адресной строки содержит "https://"
    
- summary: |
    Проверка мобильной версии
  requirement: |
    Сат должен быть удобным на мобильном устройстве
  prerequisites: |
    Открыта главная страница Codebattle на мобильном устройстве 
    Пользователь авторизирован
  test-data: |
    Мобильное устройство = IPhone 13
  steps:
    - Выбрать подходящую игру во вкладке "LOBBY"
    - Нажать кнопку "Fight"
    - Нажать на значок с красным флажком над терминалом "Give up"
    - Во всплывающем окне нажать кнопку "Give up"
  expected-result: | 
    Отображено окно с уведомлением о проигрыше
    
- summary: |
    Проверка совместимости с последними версиями браузеров 
  requirement: |
    Сайт должен быть протестирован на совместимость с последними версиями браузеров
  prerequisites: |
    Открыта главная страница Codebattle на мобильном устройстве 
    Пользователь авторизирован
  test-data: |
    Браузер = Google Chrome
    Браузер = Mozilla Firefox
    Браузер = Opera
    Браузер = Safari
  steps:
    - Выбрать подходящую игру во вкладке "LOBBY"
    - Нажать кнопку "Fight"
    - Нажать на значок с красным флажком над терминалом "Give up"
    - Во всплывающем окне нажать кнопку "Give up"
  expected-result: | 
    Отображено окно с уведомлением о проигрыше
      
- summary: |
    Проверка обработки сайтом 1000 одновременных пользователей
  requirement: |
    Сайт должен быть способен обрабатывать большое количество трафика (например, 1000 одновременных пользователей)
  prerequisites: |
    Запущено приложение Apache JMeter
  test-data: |
    -
  steps:
    - Начать тестирование через Apache JMeter
  expected-result: | 
    Сайт выдержал нагрузку в 10000 одновременных пользователей
    
- summary: |
    Проверка отсутствия возможности редактировать код соперника
  requirement: |
    Пользователь не должен иметь возможность редактировать код соперника
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Редактировать код в редакторе кода соперника
  expected-result: | 
    Ничего не происходит, код соперника не меняется
    
- summary: |
    Проверка отсутствия возможности менять язык програмирования соперника
  requirement: |
    Пользователь не должен иметь возможность менять язык програмирования соперника
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать на название языка програмирование соперника
  expected-result: | 
    Выпадающего списка с вариантами языка нет, язык соперника нельзя изменить
    
- summary: |
    Проверка отсутствия возможности редактировать код в завершенной игре
  requirement: |
    Пользователь не должен иметь возможность редактировать код в завершенной игре
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать на значок с красным флажком над редактором кода "Give up"
    - Во всплывающем окне нажать кнопку "Give up"
    - Редактировать код в своем редакторе
  expected-result: | 
    Код остается неизменным
    
- summary: |
    Проверка отсутствия возможности начать игру, если предыдущая не завершена
  requirement: |
    Пользователь не должен иметь возможность начать игру, если предыдущая не завершена
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Нажать кнопку "Back to Home"
    - Выбрать другую игру во вкладке "LOBBY"
    - Нажать кнопку "Fight"
  expected-result: | 
    Отображено сообщение о том, что угра уже запущена
    
- summary: |
    Проверка отсутствия возможности редактировать текст задания в игре
  requirement: |
    Пользователь не должен иметь возможность редактировать текст задания в игре
  prerequisites: |
    Игра запущена
  test-data: |
    -
  steps:
    - Дописать текст задания
    - Удалить текст задания
  expected-result: | 
    Текст задания остается неизменным 

- summary: |
    Проверка отсутствия возможности зрителям вносить изменения в код участников
  requirement: |
    Зрители игры не могут писать код и вносить изменения в код участников
  prerequisites: |
    Нахождение в игре в качестве зрителя
  test-data: |
    -
  steps:
    - Редактировать код в редакторе кода участников
  expected-result: | 
    Ничего не происходит, код участников не меняется
